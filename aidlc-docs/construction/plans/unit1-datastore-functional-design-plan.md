# Functional Design Plan - Unit 1: DataStore

## 목적
파일 기반 데이터 저장소의 상세 비즈니스 로직, 도메인 모델, 비즈니스 규칙을 정의합니다.

---

## 설계 질문

### 1. 주문 번호 생성 규칙
주문 번호를 어떤 형식으로 생성할까요?

A) 순차 번호 - 매장별 자동 증가 (예: 1, 2, 3, ...)
B) 날짜+순번 - 날짜 기반 (예: 20260209-001, 20260209-002)
C) UUID - 고유 식별자 (예: 550e8400-e29b-41d4-a716-446655440000)
D) 짧은 랜덤 코드 - 6자리 영숫자 (예: A3B7K2)

[Answer]: B, 순번 5자리 숫자

### 2. 메뉴 가격 데이터 타입
메뉴 가격을 어떤 타입으로 저장할까요?

A) 정수 (원 단위) - 예: 12000 (12,000원)
B) 소수점 (float) - 예: 12000.00
C) 문자열 - 예: "12,000"

[Answer]: A

### 3. 세션 ID 생성 방식
테이블 세션 ID를 어떻게 생성할까요?

A) UUID v4 - 완전 랜덤
B) 테이블번호+타임스탬프 조합 - 예: T05-20260209143000
C) 짧은 랜덤 코드 - 8자리 영숫자

[Answer]: B

### 4. 데이터 파일 백업 전략
JSON 파일 쓰기 시 데이터 손실 방지를 어떻게 할까요?

A) 쓰기 전 백업 파일 생성 (.bak) - 안전하지만 디스크 사용 증가
B) 원자적 쓰기 (임시 파일 → 이름 변경) - 가장 안전
C) 백업 없음 - 단순 구현, MVP에 적합

[Answer]: B

### 5. 초기 시드 데이터 범위
시스템 초기 데이터로 어떤 것을 포함할까요?

A) 최소 - 기본 매장 1개 + 관리자 계정 1개만
B) 표준 - 매장 + 관리자 + 샘플 메뉴 (카테고리 3-4개, 메뉴 10-15개)
C) 풍부 - 매장 + 관리자 + 메뉴 + 샘플 테이블 + 샘플 주문

[Answer]: B

---

## 실행 계획

### Phase 1: 도메인 엔티티 상세 정의
- [x] 모든 엔티티의 필드, 타입, 제약조건 정의
- [x] 엔티티 간 관계 정의
- [x] `domain-entities.md` 생성

### Phase 2: 비즈니스 규칙 정의
- [x] 데이터 검증 규칙 정의
- [x] 상태 전이 규칙 정의
- [x] 동시성 제어 규칙 정의
- [x] `business-rules.md` 생성

### Phase 3: 비즈니스 로직 모델
- [x] DataStore CRUD 연산 상세 로직
- [x] 파일 I/O 패턴 정의
- [x] 시드 데이터 구조 정의
- [x] `business-logic-model.md` 생성
