# 테이블오더 시스템 요구사항 문서

## 의도 분석 요약

### 사용자 요청
테이블오더 서비스 구축을 위한 AIDLC 워크플로우 시작

### 요청 유형
**새 프로젝트** - 처음부터 시작하는 그린필드 프로젝트

### 범위 추정
**시스템 전체** - 고객용 인터페이스, 관리자용 인터페이스, 서버 시스템, 데이터 저장소를 포함한 완전한 시스템

### 복잡성 추정
**복잡함** - 실시간 통신, 세션 관리, 다중 사용자 동시성, 포괄적 테스트가 필요한 상당한 복잡성

---

## 기능 요구사항

### 1. 고객용 기능 (Customer Features)

#### 1.1 테이블 태블릿 자동 로그인 및 세션 관리
- **초기 설정**: 매장 식별자, 테이블 번호, 테이블 비밀번호 입력 후 로컬 저장
- **자동 로그인**: 저장된 정보로 자동 인증
- **세션 관리**: 브라우저 세션 스토리지 사용

#### 1.2 메뉴 조회 및 탐색
- **기본 화면**: 메뉴 화면이 기본 화면으로 표시
- **카테고리별 분류**: 메뉴 카테고리별 분류 및 표시
- **메뉴 상세 정보**: 메뉴명, 가격, 설명, 이미지 표시
- **카테고리 간 이동**: 빠른 카테고리 전환 기능
- **UI/UX**: 카드 형태 레이아웃, 터치 친화적 버튼 (최소 44x44px)

#### 1.3 장바구니 관리
- **메뉴 관리**: 메뉴 추가/삭제, 수량 조절
- **실시간 계산**: 총 금액 실시간 계산
- **장바구니 비우기**: 전체 장바구니 초기화
- **로컬 저장**: 페이지 새로고침 시에도 유지

#### 1.4 주문 생성
- **주문 확인**: 주문 내역 최종 확인
- **주문 처리**: 주문 확정 버튼 클릭 시 서버 전송
- **성공 플로우**: 주문 번호 표시, 장바구니 자동 비우기, 메뉴 화면 리다이렉트
- **실패 처리**: 에러 메시지 표시 및 장바구니 유지

#### 1.5 주문 내역 조회
- **현재 세션 주문**: 현재 테이블 세션의 주문만 표시
- **주문 정보**: 주문 번호, 시각, 메뉴 및 수량, 금액, 상태
- **정렬**: 주문 시간 순 정렬
- **페이지네이션**: 무한 스크롤 또는 페이지네이션

### 2. 관리자용 기능 (Admin Features)

#### 2.1 매장 인증
- **로그인**: 매장 식별자, 사용자명, 비밀번호 입력
- **세션 관리**: 16시간 세션 유지, JWT 토큰 기반 인증
- **보안**: bcrypt 해싱, 로그인 시도 제한

#### 2.2 실시간 주문 모니터링
- **실시간 업데이트**: Server-Sent Events (SSE) 사용
- **그리드 레이아웃**: 테이블별 카드 형태 표시
- **주문 정보**: 테이블 번호, 주문 번호, 시각, 메뉴, 총 금액
- **상태 관리**: 주문 상태 변경 (대기중/준비중/완료)
- **시각적 강조**: 신규 주문 색상 변경 및 애니메이션
- **상세 보기**: 주문 카드 클릭 시 전체 메뉴 목록 표시

#### 2.3 테이블 관리
- **초기 설정**: 테이블 번호 및 비밀번호 설정, 16시간 세션 생성
- **주문 삭제**: 특정 주문 삭제 기능 (확인 팝업 포함)
- **세션 처리**: 테이블 세션 시작/종료 관리
- **과거 내역**: 테이블별 과거 주문 목록 조회 (날짜 필터링)

#### 2.4 메뉴 관리
- **CRUD 기능**: 메뉴 조회, 등록, 수정, 삭제
- **메뉴 정보**: 메뉴명, 가격, 설명, 카테고리, 이미지 URL
- **순서 조정**: 메뉴 노출 순서 관리
- **데이터 검증**: 필수 필드 및 가격 범위 검증

---

## 비기능 요구사항

### 1. 기술 스택
- **백엔드**: Python with Django/FastAPI 프레임워크
- **프론트엔드**: React.js with 모던 JavaScript
- **데이터 저장**: 파일 디렉토리 I/O 레벨 (파일 시스템 기반)
- **실시간 통신**: Server-Sent Events (SSE)
- **세션 관리**: 브라우저 세션 스토리지

### 2. 아키텍처
- **동시성 처리**: 메시지 큐를 사용한 이벤트 기반 아키텍처
- **데이터 검증**: 기본 검증 (필수 필드, 데이터 타입)
- **이미지 처리**: MVP용 플레이스홀더 이미지 사용

### 3. 배포 및 운영
- **배포 환경**: 로컬 개발 환경
- **테스트 커버리지**: 포괄적 테스트 (단위, 통합, E2E 테스트)

### 4. 성능 요구사항
- **실시간 업데이트**: 2초 이내 주문 표시
- **세션 유지**: 관리자 16시간, 고객 브라우저 세션 동안
- **UI 반응성**: 터치 친화적 인터페이스

---

## 시스템 경계 및 제약사항

### 포함 기능 (MVP 범위)
**고객용**:
- 테이블 태블릿 자동 로그인 및 세션 관리
- 메뉴 조회 및 탐색
- 장바구니 관리
- 주문 생성
- 주문 내역 조회 (현재 세션만)

**관리자용**:
- 매장 인증
- 실시간 주문 모니터링
- 테이블 관리 (초기 설정, 주문 삭제, 세션 처리, 과거 내역 조회)
- 메뉴 관리

### 제외 기능
- **결제 관련**: 실제 결제 처리, PG 연동, 영수증 발행, 환불, 포인트/쿠폰
- **고급 인증**: OAuth, SNS 로그인, 2FA, OTP
- **파일 관리**: 이미지 리사이징/최적화, CMS, 광고 기능
- **알림 시스템**: 푸시 알림, SMS, 이메일, 소리/진동 알림
- **주방 기능**: 주방 전달, 재고 관리
- **고급 기능**: 데이터 분석, 매출 리포트, 직원 관리, 예약, 리뷰, 다국어
- **외부 연동**: 배달 플랫폼, POS, 소셜 미디어, 지도 API, 번역 API

---

## 사용자 시나리오

### 고객 시나리오
1. **첫 방문**: 관리자가 테이블 태블릿 초기 설정
2. **주문 과정**: 메뉴 탐색 → 장바구니 추가 → 주문 확정 → 주문 번호 확인
3. **추가 주문**: 메뉴 화면에서 추가 주문 진행
4. **주문 확인**: 주문 내역 화면에서 현재 주문 상태 확인

### 관리자 시나리오
1. **시스템 접근**: 매장 인증 후 관리자 대시보드 접근
2. **주문 모니터링**: 실시간 주문 현황 확인 및 상태 업데이트
3. **테이블 관리**: 새 고객 세션 시작, 이용 완료 처리
4. **메뉴 관리**: 메뉴 정보 업데이트 및 관리

---

## 품질 속성

### 1. 사용성
- 직관적인 사용자 인터페이스
- 터치 친화적 디자인
- 명확한 시각적 계층 구조

### 2. 신뢰성
- 포괄적 테스트 커버리지
- 기본 데이터 검증
- 오류 처리 및 복구

### 3. 성능
- 실시간 주문 업데이트 (2초 이내)
- 효율적인 세션 관리
- 반응형 사용자 인터페이스

### 4. 유지보수성
- 모듈화된 아키텍처
- 이벤트 기반 설계
- 명확한 코드 구조

---

## 성공 기준

### 기능적 성공 기준
- 고객이 별도 로그인 없이 즉시 주문 가능
- 관리자가 실시간으로 주문 모니터링 가능
- 모든 주문이 정확히 처리되고 추적 가능

### 기술적 성공 기준
- 모든 테스트 케이스 통과 (단위, 통합, E2E)
- 실시간 업데이트 2초 이내 달성
- 세션 관리 안정성 확보

### 비즈니스 성공 기준
- 고객 대기 시간 단축
- 매장 운영 효율성 증대
- 직관적인 사용자 경험 제공